<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation Quickstart • Zelig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Zelig Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html#section-zelig-overview">Zelig Overview</a>
    </li>
    <li>
      <a href="../articles/index.html#section-model-details">Model Details</a>
    </li>
    <li>
      <a href="../articles/index.html#section-other">Other</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Function Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html#section-main-zelig-workflow">Workflow</a>
    </li>
    <li>
      <a href="../reference/index.html#section-estimation-methods">Estimation Methods</a>
    </li>
    <li>
      <a href="../reference/index.html#section-exterior-interaction-functions">Interacting Outside of Zelig</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/about.html">Contact/Development Team/Citation</a>
    </li>
    <li>
      <a href="../articles/roadmap.html">Development Roadmap</a>
    </li>
    <li>
      <a href="https://iqss.github.io/rpackagemetrics/">Zelig Adoption Metrics</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://medium.com/zelig-dev/archive">
    <span class="fa fa-medium"></span>
     
    Dev-Blog
  </a>
</li>
<li>
  <a href="https://twitter.com/zeligproject">
    <span class="fa fa-twitter fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/IQSS/Zelig">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Installation Quickstart</h1>
            
            <h4 class="date">2017-04-24</h4>
          </div>

    
    
<div class="contents">
<p><em>Built using Zelig version 5.1.0.90000</em></p>
<hr>
<p>===================</p>
<p>This guide is designed to get you up and running with the current release of Zelig (:r:<span class="math inline">\(packageVersion('Zelig')\)</span>).</p>
<hr>
<div id="installing-r-and-zelig" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-r-and-zelig" class="anchor"></a>Installing R and Zelig</h1>
<p>Before using Zelig, you will need to download and install both the R statistical program and the Zelig package:</p>
<p><strong>Installing R</strong></p>
<p>To install R, go to <a href="http://www.r-project.org/" class="uri">http://www.r-project.org/</a> Select the <code>CRAN</code> option from the left-hand menu (CRAN is the Comprehensive R Archive Network where all files related to R can be found). Pick a CRAN mirror closest to your current geographic location (there are multiple mirrors of this database in various locations, selecting the one closest to you will be sure to maximize your the speed of your download). Follow the instructions for downloading R for Linux, Mac OS X, or Windows.</p>
<hr>
<p><strong>Installing Zelig</strong></p>
<p>Zelig 5 is available on CRAN, as is the ZeligChoice package containing additional models. To install Zelig, or other Zelig add-on modules, from CRAN enter the following at the R prompt:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"Zelig"</span>)
<span class="kw">install.packages</span>(<span class="st">"ZeligChoice"</span>)
<span class="kw">install.packages</span>(<span class="st">"ZeligEI"</span>)</code></pre></div>
<p>at which point you will be asked to select from a list a local CRAN mirror to use for downloading.</p>
<p><em>Beta Release</em></p>
<p>Beta releases are updated with the latest fixes and newest experimental features, and generally reflect a copy currently being tested before release on CRAN. To download this release, enter one of the following into an R console:</p>
<p>If you already have all of the Zelig dependencies installed (for example, if you have a prior version of Zelig running and are seeking to replace it with the Beta version):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"Zelig"</span>, <span class="dt">type =</span> <span class="st">"source"</span>,
                <span class="dt">repos =</span> <span class="st">"http://r.iq.harvard.edu/"</span>)</code></pre></div>
<p>If you do not already have Zelig installed, and anticipate having missing packages dependencies, then add CRAN as a secondary repository by using:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"Zelig"</span>, <span class="dt">type =</span> <span class="st">"both"</span>,
                <span class="dt">repos =</span> <span class="kw">c</span>(<span class="st">"http://r.iq.harvard.edu/"</span>,
                          <span class="st">"http://cran.stat.ucla.edu/"</span>))</code></pre></div>
<p>(perhaps substituting the URL of your favorite <a href="https://cran.r-project.org/mirrors.html">local CRAN mirror</a>). When prompted, answer yes to the question of whether “to install from sources the package which needs compilation?”</p>
<p>The ZeligGAM package, containing additional Zelig models described on this site, is presently only available in beta, so if you wish to use these models, similarly install this as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"ZeligGAM"</span>, <span class="dt">type =</span> <span class="st">"source"</span>, <span class="dt">repos =</span> <span class="st">"http://r.iq.harvard.edu/"</span>)</code></pre></div>
<p><em>Development Release</em></p>
<p>Development versions contain the latest code in-development, and may not be fully tested. The following example downloads Zelig, and substitute the desired package name for any other package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This installs devtools package, if not already installed</span>
<span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
<span class="co"># This loads devtools</span>
<span class="kw">library</span>(devtools)
<span class="co"># This downloads the latest Zelig from the IQSS Github repo</span>
<span class="kw">install_github</span>(<span class="st">'IQSS/Zelig'</span>)</code></pre></div>
<p>If you have successfully installed the program, you will see the following message: <em>“DONE (Zelig)”</em>.</p>
<hr>
</div>
<div id="quickstart-guide" class="section level1">
<h1 class="hasAnchor">
<a href="#quickstart-guide" class="anchor"></a>Quickstart Guide</h1>
<p>Once Zelig is successfully downloaded and installed, let’s load the package and walk through an example. The <em>swiss</em> dataset contains data on fertility and socioeconomic factors in Switzerland’s 47 French-speaking provinces in 1888 (Mosteller and Tukey, 1977, 549-551). We will model the effect of <em>education</em> on <em>fertility</em>, where education is measured as the percent of draftees with education beyond primary school and fertility is measured using the common standardized fertility measure (see Muehlenbein (2010, 80-81) for details).</p>
<p><strong>Loading Zelig</strong></p>
<p>First, open your R console and load Zelig:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Zelig)</code></pre></div>
<hr>
<p><strong>Building Models</strong></p>
<p>Let’s assume we want to estimate the effect of education on fertility. Since fertility is a continuous variable, least squares is an appropriate model choice. We first create a Zelig least squares object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># initialize Zelig5 least squares object</span>
z5 &lt;-<span class="st"> </span>zls<span class="op">$</span><span class="kw">new</span>()</code></pre></div>
<p>To estimate our model, we call the zelig() method, which is a function that is internal to the Zelig object. We pass the zelig() method two arguments: equation and data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># estimate ls model</span>
z5<span class="op">$</span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(Fertility <span class="op">~</span><span class="st"> </span>Education, <span class="dt">data =</span> swiss)

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## Model: 
## 
## Call:
## z5$zelig(formula = Fertility ~ Education, data = swiss)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -17.036  -6.711  -1.011   9.526  19.689 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)  79.6101     2.1041  37.836  &lt; 2e-16
## Education    -0.8624     0.1448  -5.954 3.66e-07
## 
## Residual standard error: 9.446 on 45 degrees of freedom
## Multiple R-squared:  0.4406, Adjusted R-squared:  0.4282 
## F-statistic: 35.45 on 1 and 45 DF,  p-value: 3.659e-07
## 
## Next step: Use 'setx' method</code></pre>
<p>The -0.8624 coefficient on education suggests a negative relationship between the education of a province and its fertility rate. More precisely, for every one percent increase in draftees educated beyond primary school, the fertility rate of the province decreases 0.8624 units. To help us better interpret this finding, we may want other quantities of interest, such as expected values or first differences. Zelig makes this simple by automating the translation of model estimates into interpretable quantities of interest using Monte Carlo simulation methods (see King, Tomz, and Wittenberg (2000) for more information). For example, let’s say we want to examine the effect of increasing the percent of draftees educated from 5 to 15. To do so, we set our predictor value using the setx() method:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set education to 5</span>
z5<span class="op">$</span><span class="kw"><a href="../reference/setx.html">setx</a></span>(<span class="dt">Education =</span> <span class="dv">5</span>)

<span class="co"># set education to 15</span>
z5<span class="op">$</span><span class="kw"><a href="../reference/setx1.html">setx1</a></span>(<span class="dt">Education =</span> <span class="dv">15</span>)

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## setx:
##   (Intercept) Education
## 1           1         5
## setx1:
##   (Intercept) Education
## 1           1        15
## 
## Next step: Use 'sim' method</code></pre>
<p>After setting our predictor value, we simulate using the sim() method:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># run simulations and estimate quantities of interest</span>
z5<span class="op">$</span><span class="kw"><a href="../reference/sim.html">sim</a></span>()

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## 
##  sim x :
##  -----
## ev
##       mean       sd     50%     2.5%    97.5%
## 1 75.33275 1.646028 75.3473 72.10425 78.48296
## pv
##          mean      sd     50%     2.5%    97.5%
## [1,] 75.60622 9.69571 75.6371 57.16875 95.07382
## 
##  sim x1 :
##  -----
## ev
##       mean       sd      50%     2.5%  97.5%
## 1 66.66635 1.494473 66.62375 63.80721 69.655
## pv
##          mean       sd      50%     2.5%    97.5%
## [1,] 66.57557 9.506052 66.84692 47.54119 85.06826
## fd
##        mean       sd       50%      2.5%     97.5%
## 1 -8.666401 1.394008 -8.663836 -11.35304 -5.949306</code></pre>
<p>At this point, we’ve estimated a model, set the predictor value, and estimated easily interpretable quantities of interest. The summary() method shows us our quantities of interest, namely, our expected and predicted values at each level of education, as well as our first differences–the difference in expected values at the set levels of education.</p>
<hr>
<p><strong>Visualizations</strong></p>
<p>Zelig’s graph() method plots the estimated quantities of interest:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z5<span class="op">$</span><span class="kw">graph</span>()</code></pre></div>
<div class="figure">
<img src="installation_quickstart_files/figure-html/QIs-1.png" alt="QIs" width="672"><p class="caption">
QIs
</p>
</div>
<hr>
<p><strong>Help</strong></p>
<p>Finally, model documentation can be accessed using the <code>z5$help()</code> method at any point after a model object has been initialized:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># documentation for least squares model</span>
z5<span class="op">$</span><span class="kw">help</span>()

<span class="co"># documentation for logistic regression</span>
z5 &lt;-<span class="st"> </span>zlogit<span class="op">$</span><span class="kw">new</span>()
z5<span class="op">$</span><span class="kw">help</span>()</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installing-r-and-zelig">Installing R and Zelig</a></li>
      <li><a href="#quickstart-guide">Quickstart Guide</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
